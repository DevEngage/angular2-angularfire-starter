{"version":3,"file":"profile.component.js","sourceRoot":"","sources":["profile.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,+BAA+B;AAQ/B;IAII;QACI,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,iCAAM,GAAN;QACI,IAAI,CAAC,eAAe,CAAC,8BAA8B,EAAE,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,UAAC,OAAO,EAAE,GAAG;YACtF,EAAE,CAAC,CAAC,OAAO,CAAC;gBAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAClC,EAAE,CAAC,CAAC,GAAG,CAAC;gBAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAAe,GAAf,UAAgB,SAAc;QAC1B,IAAI,CAAC,aAAa,GAAiB,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC;IAC9D,CAAC;IAED,0CAAe,GAAf,UAAgB,GAAW,EAAE,MAAqB,EAAE,KAAkB,EAAE,EAAE;QACxE,IAAI,QAAQ,GAAQ,IAAI,QAAQ,EAAE,CAAC;QACnC,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACrD,CAAC;QACD,GAAG,CAAC,kBAAkB,GAAG;YACrB,EAAE,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;oBACpB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAC;gBACvC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC;QACL,CAAC,CAAA;QACD,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC5B,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACrB,CAAC;IA1CL;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,aAAa;YACvB,WAAW,EAAE,wBAAwB;YACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;SACrC,CAAC;;wBAAA;IAuCF,uBAAC;AAAD,CAAC,AAtCD,IAsCC;AAtCY,wBAAgB,mBAsC5B,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\n// import { RSVP } from 'rxjs';\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-profile',\n  templateUrl: 'profile.component.html',\n  styleUrls: ['profile.component.css']\n})\nexport class ProfileComponent {\n\n    filesToUpload: Array<File>;\n \n    constructor() {\n        this.filesToUpload = [];\n    }\n \n    upload() {\n        this.makeFileRequest(\"http://localhost:3000/upload\", [], this.filesToUpload, (success, err) => {\n            if (success) console.log(success);\n            if (err) console.log(err);\n        });\n    }\n \n    fileChangeEvent(fileInput: any){\n        this.filesToUpload = <Array<File>> fileInput.target.files;\n    }\n \n    makeFileRequest(url: string, params: Array<string>, files: Array<File>, cb) {\n      var formData: any = new FormData();\n      var xhr = new XMLHttpRequest();\n      for(var i = 0; i < files.length; i++) {\n        formData.append(\"photos\", files[i], files[i].name);\n      }\n      xhr.onreadystatechange = function () {\n          if (xhr.readyState == 4) {\n              if (xhr.status == 200) {\n                  cb(JSON.parse(xhr.response), null);\n              } else {\n                  cb(null, xhr.response);\n              }\n          }\n      }\n      xhr.open(\"POST\", url, true);\n      xhr.send(formData);\n    }\n\n}\n"]}